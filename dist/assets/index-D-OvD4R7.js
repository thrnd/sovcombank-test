(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}})();const d="/assets/sprite-BpK12ttC.svg",l=(o,a)=>{const{className:s,width:t,height:e}=a;return`
        <svg class="${s}" width="${t}" height="${e}">
            <use xlink:href="${d}#${o}"></use>
        </svg>
    `};function _(o,a,s){let t=null,e=-50;const i=function(){const n=performance.now(),r=n-e;clearTimeout(t),r>=s?(e=n,o.call(a,...arguments)):t=setTimeout(i,s-r,...arguments)};return i}class u{constructor(){this._component=document.querySelector(".calendar"),this._btns=this._component.querySelectorAll(".calendar__btn"),this._onClick=this._onClick.bind(this),this._onPointerEnter=_(this._onPointerEnter,this,50),this._component.addEventListener("click",this._onClick),this._component.addEventListener("pointermove",this._onPointerEnter),this._start=null,this._end=null}_onClick(a){const s=a.target.closest(".calendar__btn");if(s===null)return;const t=+s.dataset.index;if(this._start===null){this._start=t,this._end=this._start,s.classList.add("calendar__btn--state--active");return}if(this._start===t){this._start=null,this._end=null,s.classList.remove("calendar__btn--state--active");return}this._start=t<this._start?t:this._start,this._end=t>this._start?t:this._start,this._updateRange()}_onPointerEnter(a){const s=a.target.closest(".calendar__btn");if(!(s===null||this._start===null||this._start!==this._end)&&this._start!==null){const t=+s.dataset.index,e=t<this._start?t:this._start,i=t>=this._start?t:this._start;this._updateRange(e,i)}}_updateRange(a=this._start,s=this._end){this._btns.forEach((t,e)=>{const i=e<a||e>s,n=e===a,r=e===s,c=!n&&!r,h=n&&r;t.classList.toggle("calendar__btn--state--active",!i&&h),t.classList.toggle("calendar__btn--state--start",!i&&!h&&n),t.classList.toggle("calendar__btn--state--middle",!i&&!h&&c),t.classList.toggle("calendar__btn--state--end",!i&&!h&&r)})}}class m{constructor({defaultTheme:a="light",btnSelector:s,btnLightStateClassName:t="",btnDarkStateClassName:e="",lightThemeClassName:i="light-theme",darkThemeClassName:n="dark-theme"}){this._defaultTheme=a,this._oppositeDefaultTheme=a==="light"?"dark":"light",this._root=document.documentElement,this._btns=[...document.querySelectorAll(s)],this._btnLightStateClassName=t,this._btnDarkStateClassName=e,this._lightThemeClassName=i,this._darkThemeClassName=n,this.toggle=this.toggle.bind(this),this._updateThemeStuff=this._updateThemeStuff.bind(this),this._btns.forEach(r=>{r.addEventListener("click",this.toggle)}),this._matchMediaSupport=typeof window.matchMedia=="function",this._themeMedia=`(prefers-color-scheme: ${this._oppositeDefaultTheme})`,this._matchMediaSupport&&window.matchMedia(this._themeMedia).addEventListener("change",this._updateThemeStuff),this._updateThemeStuff()}toggle(){const a=!this._isCurrentLight;this._toggleBtnsState(a?"light":"dark"),this._root.classList.toggle(this._lightThemeClassName,a),this._root.classList.toggle(this._darkThemeClassName,!a),this._isCurrentLight=!this._isCurrentLight}_toggleBtnsState(a){const s=a==="light";this._btns.forEach(t=>{this._btnLightStateClassName!==""&&t.classList.toggle(this._btnLightStateClassName,s),this._btnDarkStateClassName!==""&&t.classList.toggle(this._btnDarkStateClassName,!s),t.setAttribute("aria-label",`Переключиться на ${s?"темную":"светлую"} тему`),t.innerHTML=l(s?"moon":"sun",{className:`toggle-theme-btn__icon${s?" toggle-theme-btn__icon--type--moon":""}`,width:50,height:50})})}_updateThemeStuff(){const a=this._root.classList.contains(this._lightThemeClassName),s=this._root.classList.contains(this._darkThemeClassName);!a&&!s?this._currentTheme=this._matchMediaSupport&&window.matchMedia(this._themeMedia).matches?this._oppositeDefaultTheme:this._defaultTheme:this._currentTheme=a?"light":"dark",this._isCurrentLight=this._currentTheme==="light",this._toggleBtnsState(this._currentTheme)}}const g=[...new Array(35)];document.querySelector("#app").innerHTML=`
    <button class="toggle-theme-btn" type="button" aria-label="переключить цветовую тему"></button>
    <div class="calendar calendar--theme--alpaca">
        <div class="calendar__header">
            <button class="calendar__month-btn calendar__month-btn--type--prev" aria-label="предыдущий месяц">${l("arrow",{className:"calendar__icon",width:32,height:32})}</button>
            <div class="calendar__month">Январь</div>
            <button class="calendar__month-btn calendar__month-btn--type--next" aria-label="следующий месяц">${l("arrow",{className:"calendar__icon",width:32,height:32})}</button>
        </div>
        <div class="calendar__body">${g.map((o,a)=>{const s=a+1,t=s%31,e=t===0?31:t;return`<button class="calendar__btn${s>=32?" calendar__btn--type--other-month":""}" type="button" data-index="${a}"><span class="calendar__day">${e}</span></button>`}).join("")}</div>
    </div>
`;new m({btnSelector:".toggle-theme-btn",btnLightStateClassName:"toggle-theme-btn--state--light",btnDarkStateClassName:"toggle-theme-btn--state--dark"});new u;
